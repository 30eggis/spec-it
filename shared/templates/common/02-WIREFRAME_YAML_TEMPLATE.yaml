# {{system_name}} - {{screen_title}} Wireframe
# Screen ID: {{screen_id}}
# Version: {{version}}
# Date: {{created_date}}
# Reference: {{requirement_reference}} from final-spec.md

meta:
  screen_id: "{{screen_id}}"
  title: "{{screen_title}}"
  route: "{{route}}"
  priority: "{{priority}}"  # P0 | P1 | P2
  user_type: "{{user_type}}"
  description: "{{screen_description}}"

layout:
  type: "{{layout_type}}"  # main | modal | drawer
  references: "Uses {{layout_reference}} from layout-system.yaml"

# Grid Definition (CSS Grid syntax)
# IMPORTANT: Preserve original grid structure. Do NOT convert to 12-column.
# Use evaluate_script() to extract actual CSS layout properties!
grid:
  # Option 1: Single grid for entire content
  desktop:
    display: "grid"
    columns: {{desktop_columns}}          # Number from CSS (e.g., 2, 3, 5)
    ratio: "{{desktop_ratio}}"            # e.g., "1:1", "1:1:1" - MUST be equal if columns are equal width
    gap: {{desktop_gap}}
    source: "{{desktop_tailwind_class}}"  # Original class (e.g., "lg:grid-cols-3 gap-6")

  # Option 2: Multiple grids with different structures (RECOMMENDED for dashboards)
  # Use this when page has different grid layouts per section
  rows:
    - id: "{{row_1_id}}"                  # e.g., "stats"
      columns: {{row_1_columns}}          # From CSS: gridTemplateColumns column count
      ratio: "{{row_1_ratio}}"            # "1:1:1:1:1" if 5 equal columns
      gap: {{row_1_gap}}
      source: "{{row_1_source}}"          # e.g., "grid-cols-5 gap-4"

    - id: "{{row_2_id}}"                  # e.g., "cards-row-1"
      columns: {{row_2_columns}}
      ratio: "{{row_2_ratio}}"
      gap: {{row_2_gap}}
      source: "{{row_2_source}}"

    - id: "{{row_3_id}}"                  # e.g., "cards-row-2"
      columns: {{row_3_columns}}          # From CSS: 2 equal width columns
      ratio: "{{row_3_ratio}}"            # "1:1" for equal distribution
      gap: {{row_3_gap}}
      source: "{{row_3_source}}"          # e.g., "lg:grid-cols-2 gap-6"

  tablet:
    columns: {{tablet_columns}}
    ratio: "{{tablet_ratio}}"
    gap: {{tablet_gap}}
    source: "{{tablet_tailwind_class}}"

  mobile:
    columns: {{mobile_columns}}
    ratio: "{{mobile_ratio}}"
    gap: {{mobile_gap}}
    source: "{{mobile_tailwind_class}}"

# Components by Zone
# IMPORTANT: Extract layout properties accurately from original CSS
sections:
  # Page Header
  - id: "page_header"
    zone: "page_header"
    component: "PageHeader"
    props:
      title: "{{page_title}}"
      date: "{{date_display}}"
      subtitle: "{{subtitle}}"
    layout:
      display: "flex"
      direction: "row"              # flex-row (default) or flex-col
      justify: "between"            # justify-between → "between", justify-end → "end"
      align: "center"               # items-center → "center"
      gap: 0
      padding_bottom: 24
      border_bottom: "1px solid"
      border_color: "_ref:colors.border"
      source: "{{header_tailwind_classes}}"  # Original Tailwind classes
    testId: "{{test_id_prefix}}-header"

  # Filter Bar (if applicable)
  # NOTE: If original uses display:block, use direction:"column" for vertical stacking
  - id: "filters"
    zone: "filters"
    component: "FilterBar"
    layout:
      display: "{{filter_display}}"   # "block" or "flex" - extract from original
      direction: "{{filter_direction}}" # "column" if block/flex-col, "row" if flex-row
      justify: "{{filter_justify}}"   # "start", "end", "between", etc.
      align: "{{filter_align}}"       # "start", "center", "end"
      gap: 12
      flex_wrap: "wrap"
      padding: 16
      background: "_ref:colors.surface"
      border_radius: "_ref:radius.lg"
      box_shadow: "_ref:shadows.sm"
      source: "{{filter_tailwind_classes}}"
    children:
      # Period Filter
      - id: "{{filter_id_1}}"
        type: "{{filter_type_1}}"
        props:
          options:
            {{#each filter_1_options}}
            - { value: "{{value}}", label: "{{label}}" }
            {{/each}}
          defaultValue: "{{filter_1_default}}"
        testId: "{{filter_1_testid}}"

  # Stats Section (if applicable)
  - id: "stats"
    zone: "stats"
    component: "StatsGrid"
    layout:
      display: "grid"
      columns_desktop: "repeat({{stats_columns}}, 1fr)"
      columns_tablet: "repeat(3, 1fr)"
      columns_mobile: "repeat(2, 1fr)"
      gap: 16
    children:
      {{#each stat_cards}}
      - id: "stat_{{id}}"
        type: "StatCard"
        props:
          icon: "{{icon}}"
          icon_color: "_ref:colors.{{icon_color}}"
          title: "{{title}}"
          value: {{value}}
          unit: "{{unit}}"
          trend: {{trend}}
        testId: "stat-{{id}}"
      {{/each}}

  # Main Content Sections
  {{#each content_sections}}
  - id: "{{section_id}}"
    zone: "{{zone}}"
    component: "{{component}}"
    props:
      title: "{{title}}"
      subtitle: "{{subtitle}}"
      icon: "{{icon}}"
      {{#if header_action}}
      headerAction:
        type: "{{header_action.type}}"
        label: "{{header_action.label}}"
        href: "{{header_action.href}}"
      {{/if}}
    layout:
      background: "_ref:colors.surface"
      border_radius: "_ref:radius.lg"
      box_shadow: "_ref:shadows.sm"
      padding: 24
      display: "flex"
      flex_direction: "column"
      gap: 16
    children:
      {{#each children}}
      - id: "{{id}}"
        type: "{{type}}"
        props:
          {{#each props}}
          {{key}}: {{value}}
          {{/each}}
        testId: "{{testId}}"
      {{/each}}
  {{/each}}

# Interactions
interactions:
  # Filter Changes
  {{#each filter_interactions}}
  - trigger: "{{trigger}}"
    action: "{{action}}"
    params:
      {{param_key}}: "{{param_value}}"
  {{/each}}

  # Click Events
  {{#each click_interactions}}
  - trigger: "{{trigger}}"
    action: "{{action}}"
    target: "{{target}}"
  {{/each}}

  # Dialog/Modal Events
  {{#each dialog_interactions}}
  - trigger: "{{trigger}}"
    action: "confirm_dialog"
    title: "{{title}}"
    message: "{{message}}"
    onConfirm:
      action: "{{confirm_action}}"
      successMessage: "{{success_message}}"
  {{/each}}

# Responsive Behavior
responsive:
  desktop:
    sidebar_visible: true
    stats_columns: {{desktop_stats_columns}}
    {{layout_mode}}: true

  tablet:
    sidebar_collapsed: true
    stats_columns: {{tablet_stats_columns}}
    single_column_layout: true

  mobile:
    sidebar_bottom_nav: true
    stats_columns: {{mobile_stats_columns}}
    single_column_layout: true
    reduced_card_padding: true

# Accessibility
accessibility:
  landmarks:
    {{#each landmarks}}
    - role: "{{role}}"
      label: "{{label}}"
      id: "{{id}}"
    {{/each}}

  skip_links:
    {{#each skip_links}}
    - label: "{{label}}"
      target: "{{target}}"
    {{/each}}

  keyboard_shortcuts:
    {{#each keyboard_shortcuts}}
    - key: "{{key}}"
      action: "{{action}}"
      description: "{{description}}"
    {{/each}}

# Data Requirements
data_api:
  endpoints:
    {{#each endpoints}}
    - id: "{{id}}"
      method: "{{method}}"
      path: "{{path}}"
      {{#if params}}
      params:
        {{#each params}}
        {{key}}: "{{type}}"
        {{/each}}
      {{/if}}
      response:
        {{#each response}}
        {{key}}: "{{type}}"
        {{/each}}
    {{/each}}

# Notes
notes:
  {{#each notes}}
  - "{{note}}"
  {{/each}}
