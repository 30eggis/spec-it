# Output Schema Reference

Detailed JSON structures generated by `spec-it-api-mcp`.

---

## endpoints.json

```json
{
  "endpoints": [
    {
      "path": "/users/{id}",
      "method": "GET",
      "operationId": "getUser",
      "summary": "Get user by ID",
      "tags": ["users"],
      "parameters": [
        {
          "name": "id",
          "in": "path",
          "type": "string",
          "required": true
        }
      ],
      "responses": {
        "200": {
          "schema": "User",
          "description": "Successful response"
        },
        "404": {
          "schema": "Error",
          "description": "User not found"
        }
      },
      "mockResponse": {
        "id": "{{id}}",
        "name": "John Doe",
        "email": "john@example.com",
        "createdAt": "2026-01-30T12:00:00Z"
      }
    },
    {
      "path": "/users",
      "method": "GET",
      "operationId": "getUsers",
      "summary": "List all users",
      "tags": ["users"],
      "parameters": [
        {
          "name": "limit",
          "in": "query",
          "type": "integer",
          "required": false,
          "default": 10
        },
        {
          "name": "offset",
          "in": "query",
          "type": "integer",
          "required": false,
          "default": 0
        }
      ],
      "responses": {
        "200": {
          "schema": "UserList"
        }
      },
      "mockResponse": {
        "users": [
          {"id": "1", "name": "John Doe", "email": "john@example.com"},
          {"id": "2", "name": "Jane Smith", "email": "jane@example.com"}
        ],
        "total": 2
      }
    }
  ]
}
```

---

## schemas.json

```json
{
  "schemas": {
    "User": {
      "type": "object",
      "properties": {
        "id": {"type": "string", "format": "uuid"},
        "name": {"type": "string", "minLength": 1, "maxLength": 100},
        "email": {"type": "string", "format": "email"},
        "role": {"type": "string", "enum": ["admin", "user", "guest"]},
        "createdAt": {"type": "string", "format": "date-time"}
      },
      "required": ["id", "name", "email"],
      "mockData": {
        "id": "550e8400-e29b-41d4-a716-446655440000",
        "name": "John Doe",
        "email": "john@example.com",
        "role": "user",
        "createdAt": "2026-01-30T12:00:00Z"
      }
    },
    "UserList": {
      "type": "object",
      "properties": {
        "users": {"type": "array", "items": {"$ref": "#/schemas/User"}},
        "total": {"type": "integer"}
      },
      "mockData": {
        "users": ["{{User}}", "{{User}}"],
        "total": 2
      }
    },
    "Error": {
      "type": "object",
      "properties": {
        "code": {"type": "string"},
        "message": {"type": "string"}
      },
      "mockData": {
        "code": "NOT_FOUND",
        "message": "Resource not found"
      }
    }
  }
}
```

---

## metadata.json

```json
{
  "apiInfo": {
    "title": "Pet Store API",
    "version": "1.0.0",
    "description": "A sample API for pet store",
    "baseUrl": "https://api.example.com/v1",
    "totalEndpoints": 15
  },
  "searchIndex": [
    {
      "operationId": "getUsers",
      "method": "GET",
      "path": "/users",
      "summary": "List all users",
      "tags": ["users"],
      "keywords": ["user", "users", "list", "all", "fetch", "get", "retrieve"],
      "entities": ["user"],
      "parameters": ["limit", "offset", "sort"]
    },
    {
      "operationId": "getUserById",
      "method": "GET",
      "path": "/users/{id}",
      "summary": "Get user by ID",
      "tags": ["users"],
      "keywords": ["user", "get", "id", "single", "one", "find", "retrieve"],
      "entities": ["user"],
      "parameters": ["id"]
    },
    {
      "operationId": "createUser",
      "method": "POST",
      "path": "/users",
      "summary": "Create a new user",
      "tags": ["users"],
      "keywords": ["user", "create", "new", "add", "register"],
      "entities": ["user"],
      "parameters": []
    }
  ],
  "entityMap": {
    "user": {
      "endpoints": ["getUsers", "getUserById", "createUser", "updateUser", "deleteUser"],
      "actions": {
        "list": "getUsers",
        "get": "getUserById",
        "create": "createUser",
        "update": "updateUser",
        "delete": "deleteUser"
      }
    },
    "order": {
      "endpoints": ["getOrders", "getOrderById", "createOrder", "cancelOrder"],
      "actions": {
        "list": "getOrders",
        "get": "getOrderById",
        "create": "createOrder",
        "cancel": "cancelOrder"
      }
    }
  },
  "tags": {
    "users": ["getUsers", "getUserById", "createUser", "updateUser", "deleteUser"],
    "orders": ["getOrders", "getOrderById", "createOrder", "cancelOrder"]
  }
}
```

---

## Mock Data Generation Rules

| Type | Generation Strategy |
|------|---------------------|
| string | faker.lorem.word() or based on format |
| string (email) | faker.internet.email() |
| string (uuid) | faker.datatype.uuid() |
| string (date-time) | faker.date.recent().toISOString() |
| string (enum) | Random from enum values |
| integer | faker.datatype.number({min, max}) |
| boolean | faker.datatype.boolean() |
| array | Generate 2-3 items |
| object | Recursively generate properties |
